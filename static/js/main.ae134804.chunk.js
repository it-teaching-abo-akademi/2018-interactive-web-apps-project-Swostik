(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(t,e,a){t.exports=a(255)},255:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),i=a(53),l=a.n(i),o=a(20),r=a(21),c=a(24),u=a(22),h=a(25),p=a(108),d=a(260),f=a(253),v=a(254),m=a(259),g=a(257),k=a(107),y=a(256),S=(a(61),function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={stockname:null,data:[],minDateAvailable:null,maxDateAvailable:null,firstDate:"",secondDate:""},a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"handleChangeF",value:function(t){this.setState({firstDate:t.target.value})}},{key:"handleChangeS",value:function(t){this.setState({secondDate:t.target.value})}},{key:"getData",value:function(){this.setState({show:!1});var t=new XMLHttpRequest,e=this;t.open("GET","https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol="+this.props.stockname+"&apikey=AABZ5Q20J049KTFZ",!0),t.onreadystatechange=function(){if(4===t.readyState){var a,s=JSON.parse(t.responseText),n=0;for(a in s){if(1===n)var i=s[a];n++}n=0;var l=[],o=[];for(a in i){var r=i[a]["4. close"];o.push(r),l.push(a),n++}n=0,e.buildData(o,l)}},t.send()}},{key:"buildData",value:function(t,e){var a=[];this.setState({minDateAvailable:e[e.length-1]}),this.setState({maxDateAvailable:e[0]});var s=e.length-1,n=0;if(null!==this.state.firstDate&&null!==this.state.secondDate)for(var i=t.length-1;i>=0;i--)e[i]===this.state.firstDate&&(s=i),e[i]===this.state.secondDate&&(n=i);for(i=s;i>=n;i--)a.push(Object(p.a)({name:e[i]},this.props.stockname,parseFloat(t[i])));this.setState({data:a})}},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var t=this;if(!this.props.show)return null;return n.a.createElement("div",{className:"backdrop",style:{position:"fixed",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.3)",padding:50}},n.a.createElement("div",{className:"modal",style:{backgroundColor:"#fff",borderRadius:5,maxWidth:1500,minHeight:600,margin:"0 auto",padding:30}},n.a.createElement("input",{type:"date",name:"bday",value:this.state.firstDate,onChange:this.handleChangeF.bind(this),min:this.state.minDateAvailable,max:this.state.maxDateAvailable}),n.a.createElement("input",{type:"date",name:"bday",value:this.state.secondDate,onChange:this.handleChangeS.bind(this),min:this.state.minDateAvailable,max:this.state.maxDateAvailable}),n.a.createElement("button",{onClick:function(){return t.getData()}}," Plot "),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(d.a,{width:1e3,height:400,data:this.state.data,margin:{top:5,right:20,left:20,bottom:5}},n.a.createElement(f.a,{dataKey:"name"}),n.a.createElement(v.a,null),n.a.createElement(m.a,{strokeDasharray:"3 3"}),n.a.createElement(g.a,null),n.a.createElement(k.a,null),n.a.createElement(y.a,{type:"monotone",dataKey:this.props.stockname,stroke:"#8884d8",activeDot:{r:8}})),n.a.createElement("div",{className:"footer"},n.a.createElement("button",{className:"cl",onClick:this.props.onClose},"Close"))))}}]),e}(n.a.Component)),E=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={id:null,name:null,total:0,currency:"$",stocklist:[],countP:0,pname:"",pquantity:"",show:!1,currencyValue:null},a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"getCurrencyValue",value:function(){var t=this,e=new XMLHttpRequest;e.open("GET","https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=EUR&apikey=AABZ5Q20J049KTFZ",!0),e.onreadystatechange=function(){if(4===e.readyState){var a=JSON.parse(e.responseText)["Realtime Currency Exchange Rate"]["5. Exchange Rate"];t.setState({currencyValue:a})}},e.send()}},{key:"add",value:function(t,e,a,s){this.setState({show:!1});var n=this,i=a,l=new XMLHttpRequest;l.open("GET","https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol="+t+"&interval=1min&apikey=3ZO09J9XDN23K52H",!0),l.onreadystatechange=function(){if(4===l.readyState){var a,o=JSON.parse(l.responseText),r=0;for(a in o){if(1===r)var c=o[a];r++}for(a in r=0,c){if(0===r){var u=c[a]["4. close"],h=u*e;if(n.addStock(t,e,u,h,i),s){var p=JSON.parse(localStorage.pf);for(var d in p)if(p[d].i===n.props.id){var f=t,v=e;p[d].s.push({ns:f,qs:v})}localStorage.pf=JSON.stringify(p)}}r++}r=0}},l.send()}},{key:"addStock",value:function(t,e,a,s,i){var l=this,o=i;"\u20ac"===this.state.currency&&(s=(a*=this.state.currencyValue)*e);var r=this.state.countP;o.push(n.a.createElement(b,{key:this.state.countP,idStock:this.state.countP,name:t,quantity:e,value:a,totalvalue:s,selected:!1,onChange:function(){return l.selectStock(r)}})),this.updateC(),this.setState({stocklist:o},function(){var t=this.state.countP+1;this.setState({countP:t}),this.getTotal()})}},{key:"addf",value:function(t,e,a,s,i,l,o,r){return function(){t.push(n.a.createElement(b,{key:e,idStock:e,name:a,quantity:s,value:i,totalvalue:l,selected:o,onChange:function(){return r.selectStock(e)}}))}}},{key:"selectStock",value:function(t){for(var e,a,s=this.state.stocklist,n=0;n<this.state.stocklist.length;n++)this.state.stocklist[n].props.idStock===t&&(e=this.addf(s,this.state.countP,this.state.stocklist[n].props.name,this.state.stocklist[n].props.quantity,this.state.stocklist[n].props.value,this.state.stocklist[n].props.totalvalue,!this.state.stocklist[n].props.selected,this),a=n);e(),s.splice(a,1),this.setState({stocklist:s});var i=this.state.countP+1;this.setState({countP:i}),this.getTotal();for(var l=JSON.parse(localStorage.pf),o=0;o<l.length;o++)l[o].i===this.props.id&&l[o].c++;localStorage.pf=JSON.stringify(l)}},{key:"handleChangeN",value:function(t){this.setState({pname:t.target.value})}},{key:"handleChangeQ",value:function(t){this.setState({pquantity:t.target.value})}},{key:"removeSelected",value:function(){for(var t=[],e=[],a=this.state.countP,s=0;s<this.state.stocklist.length;s++){if(this.state.stocklist[s].props.selected){for(var n=JSON.parse(localStorage.pf),i=0;i<n.length;i++)if(n[i].i===this.props.id)for(var l=0;l<n[i].s.length;l++)n[i].s[l].ns===this.state.stocklist[s].props.name&&n[i].s[l].qs===this.state.stocklist[s].props.quantity&&n[i].s.splice(l,1);localStorage.pf=JSON.stringify(n)}else t.push(this.addf(e,a,this.state.stocklist[s].props.name,this.state.stocklist[s].props.quantity,this.state.stocklist[s].props.value,this.state.stocklist[s].props.totalvalue,this.state.stocklist[s].props.selected,this));a++}for(var o=0;o<t.length;o++)t[o]();this.updateC(),this.setState({stocklist:e},function(){this.setState({countP:a}),this.getTotal()})}},{key:"refresh",value:function(){this.getCurrencyValue();for(var t=[],e=0;e<this.state.stocklist.length;e++)this.add(this.state.stocklist[e].props.name,this.state.stocklist[e].props.quantity,t,!1)}},{key:"getTotal",value:function(){for(var t=0,e=0;e<this.state.stocklist.length;e++)t+=this.state.stocklist[e].props.totalvalue;this.setState({total:t})}},{key:"changeToEuro",value:function(){if("$"===this.state.currency){this.setState({currency:"\u20ac"});for(var t=[],e=[],a=this.state.countP,s=0;s<this.state.stocklist.length;s++){var n=this.state.stocklist[s].props.value*this.state.currencyValue,i=n*this.state.stocklist[s].props.quantity;e.push(this.addf(t,a,this.state.stocklist[s].props.name,this.state.stocklist[s].props.quantity,n,i,this.state.stocklist[s].props.selected,this)),a++}for(var l=0;l<e.length;l++)e[l]();this.updateC(),this.setState({stocklist:t},function(){this.setState({countP:a}),this.getTotal()})}}},{key:"changeToDollar",value:function(){if("\u20ac"===this.state.currency){this.setState({currency:"$"});for(var t=[],e=[],a=this.state.countP,s=0;s<this.state.stocklist.length;s++){var n=this.state.stocklist[s].props.value/this.state.currencyValue,i=n*this.state.stocklist[s].props.quantity;e.push(this.addf(t,a,this.state.stocklist[s].props.name,this.state.stocklist[s].props.quantity,n,i,this.state.stocklist[s].props.selected,this)),a++}for(var l=0;l<e.length;l++)e[l]();this.updateC(),this.setState({stocklist:t},function(){this.setState({countP:a}),this.getTotal()})}}},{key:"updateC",value:function(){for(var t=JSON.parse(localStorage.pf),e=0;e<t.length;e++)t[e].i===this.props.id&&t[e].c++;localStorage.pf=JSON.stringify(t)}},{key:"componentWillMount",value:function(){for(var t=JSON.parse(localStorage.pf),e=0;e<t.length;e++)t[e].i===this.props.id&&this.setState({countP:t[e].c});localStorage.pf=JSON.stringify(t)}},{key:"componentDidMount",value:function(){this.getCurrencyValue();for(var t=JSON.parse(localStorage.pf),e=0;e<t.length;e++)if(t[e].i===this.props.id)for(var a=0;a<t[e].s.length;a++)this.add(t[e].s[a].ns,t[e].s[a].qs,this.state.stocklist,!1);localStorage.pf=JSON.stringify(t)}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"portfolio"},n.a.createElement("div",null,this.props.name),this.state.show&&n.a.createElement("div",null,n.a.createElement("input",{type:"text",placeholder:"Stock name",value:this.state.pname,onChange:this.handleChangeN.bind(this)}),n.a.createElement("input",{type:"text",placeholder:"Quantity",value:this.state.pquantity,onChange:this.handleChangeQ.bind(this)}),n.a.createElement("button",{onClick:function(){return t.add(t.state.pname,t.state.pquantity,t.state.stocklist,!0)}},"Validate")),n.a.createElement("button",{onClick:function(){return t.changeToEuro()}},"Show in \u20ac"),n.a.createElement("button",{onClick:function(){return t.changeToDollar()}},"Show in $"),n.a.createElement("button",{onClick:function(){return t.refresh()}},"Refresh"),n.a.createElement("button",{className:"bt",onClick:function(){return t.props.onClick(t.props.id)}},"X"),n.a.createElement("table",{width:"500"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Unit value"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Total value"),n.a.createElement("th",null,"Select"),n.a.createElement("th",null,"Graph"))),n.a.createElement("tbody",null,this.state.stocklist)),n.a.createElement("div",null,"Total value of ",this.props.name," : ",this.state.total," ",this.state.currency),this.state.stocklist.length<50&&n.a.createElement("button",{onClick:function(){return t.setState({show:!0})}},"Add stock"),n.a.createElement("button",{onClick:function(){return t.removeSelected()}},"Remove selected"))}}]),e}(n.a.Component),b=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).toggleModal=function(){a.setState({isOpen:!a.state.isOpen})},a.state={idStock:null,name:null,value:0,quantity:0,totalvalue:0,selected:!1,isOpen:!1},a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("tr",null,n.a.createElement("td",{align:"center"},this.props.name),n.a.createElement("td",{align:"center"},this.props.value),n.a.createElement("td",{align:"center"},this.props.quantity),n.a.createElement("td",{align:"center"},this.props.totalvalue),n.a.createElement("td",{align:"center"},n.a.createElement("input",{type:"checkbox",checked:this.props.selected,onChange:function(){return t.props.onChange(t.props.idStock)}})),n.a.createElement("td",{align:"center"},n.a.createElement("button",{onClick:function(){return t.toggleModal()}},"Show")),n.a.createElement(S,{stockname:this.props.name,show:this.state.isOpen,onClose:this.toggleModal}))}}]),e}(n.a.Component),C=E,O=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={portList:[],count:0,value:"",show:!1},a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"addPortFolio",value:function(t,e,a){var s=this;if(a){if("undefined"===typeof localStorage.pf)var i=[];else i=JSON.parse(localStorage.pf);var l={i:e,n:t,s:[],c:0};i.push(l),localStorage.pf=JSON.stringify(i),localStorage.c=this.state.count+1}var o=this.state.portList;o.push(n.a.createElement(C,{id:e,name:t,onClick:function(){return s.delPortFolio(e)}})),this.setState({portList:o});var r=this.state.count+1;this.setState({count:r}),this.setState({show:!1})}},{key:"delPortFolio",value:function(t){for(var e=JSON.parse(localStorage.pf),a=0;a<e.length;a++)e[a].i===t&&e.splice(a,1);localStorage.pf=JSON.stringify(e);for(var s=this.state.portList,n=0;n<s.length;n++)s[n].props.id===t&&s.splice(n,1);this.setState({portList:s})}},{key:"componentWillMount",value:function(){if(localStorage.c){var t=JSON.parse(localStorage.c);this.setState({count:t})}}},{key:"componentDidMount",value:function(){if(localStorage.pf&&localStorage.c){var t=JSON.parse(localStorage.pf);for(var e in t)this.addPortFolio(t[e].n,t[e].i,!1)}}},{key:"render",value:function(){var t=this;return n.a.createElement("div",null,this.state.portList.length<10&&n.a.createElement("button",{onClick:function(){return t.setState({show:!0})}}," Add a Portfolio "),this.state.show&&n.a.createElement("div",null,n.a.createElement("input",{type:"text",placeholder:"Portfolio name",value:this.state.value,onChange:this.handleChange.bind(this)}),n.a.createElement("button",{onClick:function(){return t.addPortFolio(t.state.value,t.state.count,!0)}},"Validate")),n.a.createElement("div",{className:"portfoliopanel"},this.state.portList.slice(0,3).map(function(t){return n.a.createElement("div",{key:t.props.id}," ",t," ")})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"portfoliopanel"},this.state.portList.slice(3,6).map(function(t){return n.a.createElement("div",{key:t.props.id}," ",t," ")})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"portfoliopanel"},this.state.portList.slice(6,9).map(function(t){return n.a.createElement("div",{key:t.props.id}," ",t," ")})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"portfoliopanel"},this.state.portList.slice(9).map(function(t){return n.a.createElement("div",{key:t.props.id}," ",t," ")})))}}]),e}(n.a.Component),N=function(t){function e(){return Object(o.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(O,null))}}]),e}(n.a.Component);l.a.render(n.a.createElement(N,null),document.querySelector("#root"))},61:function(t,e,a){}},[[119,2,1]]]);
//# sourceMappingURL=main.ae134804.chunk.js.map